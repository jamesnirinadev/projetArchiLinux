sudo sudo/**
* ===================================
* |     Changelog FerdiJames        |
* ===================================
*/



/*
* -----------------------------------
** I - STORIES & STAGE **
* -----------------------------------
*/


//-- Story 0 :
//-----------
Installer sudo
# apt install sudo


//-- Story 1 :
//-----------
Installer serveur web Apache sur vmphp
cf : https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-debian-11

** update local package
$ sudo apt update

** install apache2 package
$ sudo apt install apache2

** authoriser les Firewall sur le port par défaut d'Apache "allow outside access to default web ports"
$ sudo ufw app list

** authoriser le trafic sur le port 80
A savoir :
The Apache profiles begin with WWW:

    WWW: This profile opens only port 80 (normal, unencrypted web traffic)
    WWW Cache: This profile opens only port 8080 (sometimes used for caching and web proxies)
    WWW Full: This profile opens both port 80 (normal, unencrypted web traffic) and port 443 (TLS/SSL encrypted traffic)
    WWW Secure: This profile opens only port 443 (TLS/SSL encrypted traffic)

$ sudo ufw allow 'WWW'


** Vérifier les changements.
$ sudo ufw status

** Vérifier que le service fonctionne.
$ sudo systemctl status apache2


** tester son adresse IP
$ hostname -I
$ sudo apt install curl
$ curl -4 icanhazip.com


** configurer son Virtual Hosts
$ sudo mkdir -p /var/www/your_domain
$ sudo chown -R $USER:$USER /var/www/your_domain
$ sudo chmod -R 755 /var/www/your_domain
$ nano /var/www/your_domain/index.html



//-- Story 2 :
//-----------
Installer php 8.0 sur vmphp

(Video ==> https://www.synonyme-du-mot.com/les-articles/comment-installer-php-sous-debian );
(cf: https://packages.sury.org/php/);

** installation des modules
$ apt update OU sudo apt-get update
$ sudo apt-get install ca-certificates apt-transport-https software-properties-common wget curl lsb-release

// ??????
$ apt install apt-transport-https curl lsb-release

** installation de la clé apt.gpg
$ curl -sSLo /usr/share/keyrings/debs.sury.orh-php.gpg https://packages.sury.org/php/apt.gpg
// ??????


** ajouter un dépôt pour PHP 8.1
curl -sSL https://packages.sury.org/php/README.txt | sudo bash -x


** Installation de PHP 8.1
sudo apt-get install php8.1

** Intégrer PHP 8,1 à Apache2
sudo apt-get install libapache2-mod-php8.1

** Redémarrez Apache pour prendre en charge ce nouveau module :
sudo systemctl restart apache2


** installation des extensions curl, ZIP, Interaction Mysql/Mariadb
sudo apt-get install php8.1-common php8.1-curl php8.1-bcmath php8.1-intl php8.1-mbstring php8.1-xmlrpc php8.1-mcrypt php8.1-mysql php8.1-gd php8.1-xml php8.1-cli php8.1-zip



//-- Story 3 :
//-----------
Installer mysql sur vmMySQL
(cf : https://www.cloudbooklet.com/how-to-install-mysql-on-debian-11/)

** Update du cache des paquets debian
sudo apt update
sudo apt upgrade

** installer wget
sudo apt install wget


** télécharger le paquet deb sur le site officiel de Mysql
https://dev.mysql.com/downloads/repo/apt/

** télécharger le paquet
wmget https://dev.mysql.com/get/mysql-apt-config_0.8.22-1_all.deb

** installer le package
sudo apt-get install ./mysql-apt-config_0.8.22-1_all.deb

** installer mysql serveur
sudo apt-get update
sudo apt-get install mysql-server


 ** vérifier que mysql serveur est démarrer
 sudo systemctl mysql status OU service mysql status


nouveau test commit


//-- Story 4 :
//-----------
tester la connection ssh de vmPhp sur vmMysql
CLI ==> mysql -u root -p utilisateur@ipaddress

//-- Story 5 :
//-----------
Savoir utiliser les commandes MySQL depuis la virtual machine linux


//-- Story 6 :
//-----------
Savoir utiliser php sous nano depuis la virtual machine linux



//-- Story 7 :
//-----------
Créer une base de données Mysql à partir de vmPhp























/*
* -----------------------------------
** II - CONFIGURATIONS **
* -----------------------------------
*/



//-- debian :
-----------------------------------
Verison 11,6



//-- Serveur Apache php **
* -----------------------------------
Bridge0
machine (superuttilisateur): vmPhp;
Mot de passe : password;
Login user :  vmphpuser;
Pass : password;



Serveur mysql




/*
* -----------------------------------
** XN - DOCUMENTATIONS & INFOS **
* -----------------------------------
*/

/*
* php versus Virtual machine Debian
*/


//-- TUTO:
sys-admin.fr/comment-installer-php-8-1-sur-debian-11-debian-10-debian-9

https://www.it-connect.fr/installation-de-php-8-1-sur-debian-11-pour-son-serveur-web/


//-- Vidéos:
-- pour l'actualisation de php
https://www.synonyme-du-mot.com/les-articles/comment-installer-php-sous-debian;


